.PHONY: all clean fclean re makelib check run val

NAME = push_swap
CC = cc
CFLAGS = -Wall -Werror -Wextra

SRC_FILE =	main.c\
			utils.c\
			operation.c\
			instruction.c\
			stack.c\
			average_sort.c\
			fastest_to_top.c\
			fastest_to_sort.c\
			sort.c\
			arg_parsing.c\
			arg_to_indexed_arr.c\
			sort_small_stack.c

OBJ = ${SRC_FILE:.c=.o}

LIB_NAME = libft.a
LIB_DIR = libft/

INC = -I . -I ${LIB_DIR}

ARR = 3926 -2790 -1147 2238 4477 -4640 2665 4668 -3531 2709 4237 -4386 1167 -319 1196 1434 -450 4769 582 630 -230 -2523 -4528 1344 573 -1208 -4313 2955 -3517 3368 2286 3630 -2954 -2140 867 2009 -3993 -1984 -4304 655 -704 246 -1681 2417 -3191 3983 -4084 -4175 -3839 4382 3774 -1030 2106 62 4324 -3182 876 -4519 -1962 3812 -2641 -4776 2986 1451 2834 2871 3402 939 -109 3308 4206 -2005 -831 4239 2769 -1429 -699 -2283 2360 1545 816 1470 -4642 1491 4485 4599 2964 4294 942 4902 849 4815 -1323 -2597 -4521 1874 2503 1197 1120 1955 -3484 3752 -1093 3098 -528 4356 -3196 -2080 -2334 1268 -1461 3799 -3563 -1837 1879 2326 -1975 4628 785 -3659 2857 -2826 2103 1173 3646 -980 338 -4067 -815 1969 -2280 -3985 -1901 -4390 -3938 3384 -2382 -2189 1733 1849 -677 3003 4632 -119 1760 -4821 4968 -521 1739 -2799 2161 -1532 -680 -2793 2137 4542 -1818 -942 1147 -3808 -2849 -2536 -2921 -857 -2060 4158 -4410 2142 1100 1748 -1002 -4971 4056 801 3458 -1958 197 3333 987 2205 477 2255 1188 -628 -125 -1131 -3820 4944 -2390 199 945 4310 -4006 1533 4750 4662 -1477 1811 320 -1925 -2485 -2999 -1919 -3277 -3731 -3283 -1025 -396 3206 575 -3708 146 2247 2344 -2119 3236 -1655 340 -3352 -330 3999 4941 4568 -2181 1896 -2154 3590 536 3107 -4539 1808 -3448 -1955 -3535 635 4363 -1365 1043 -4297 992 584 -2259 -1352 394 1552 -1633 -3008 981 2776 3500 -1399 547 -3758 -4679 2746 1357 732 4636 4563 2369 4210 3309 -15 -1731 2567 -2067 1140 -4425 -1798 3714 -1231 -345 38 -1345 2144 -1246 1513 -445 -3821 3780 -2089 -4192 384 1053 2630 -785 1522 4931 3128 1686 -3612 -4749 -2223 4835 -3610 1518 625 -4237 4606 -2620 -4204 475 -3169 4901 -4941 2687 -3166 3517 -3039 772 -270 -4276 -292 -610 3803 2304 -3255 3965 -3251 2989 -3679 558 1127 -2019 3215 -209 2629 4484 -1621 -2908 -4413 4779 1148 3872 695 2875 1044 4782 -3263 -4857 629 4232 -2887 -4863 3187 52 -2910 312 -4682 -3546 -258 4393 178 -3925 2970 -220 290 -4082 -1163 1650 -4156 1937 2540 -1855 -97 -3275 -3694 3709 2900 873 3469 -239 -835 -2411 -4283 -2097 84 -354 659 3593 -851 778 -3048 3275 -3041 755 -2722 626 -2819 429 -364 4588 -1713 751 -706 -300 1353 -1137 -4651 -4999 1064 1214 1783 3715 -2400 -2827 -2527 1404 -2953 100 4095 1574 568 -3198 4026 4197 -767 -2544 -4633 128 -3803 663 3571 4894 3794 -4107 -4601 1854 1915 -471 -991 2904 3474 1717 1481 -356 -1090 -1625 4871 3977 4146 -1455 3563 1798 3866 4586 2491 -3356 -1272 -95 857 1747 2764 -4063 2867 2036 -455 -4668 -3511 1111 646 591 1090 1075 2933 4113 -3168 3478 3850 -1987 432 -978 -4402 -2205 1665 2120 1725 -3137 -4964 761 1428 957 822 -4267 -2417 4534 -2185 3451 2265 1159 966 1763 3980 2723 2818 2842 407 -4810 -1057 1427 2968 4678 206 -1828 -558 -1442 4643 2941 -2374 -326 2176 -1651 3680 3594 -1696 -4471 2511 4362 289 -4988 -4740 -731 4947 1683 -1874 -2519 -2627 1570 1017 -4233 4428 -1145 -4026 2311 1164 -2358 1682 -1710 -1667 2004 1582 4511 -4355 -2976 462 4011 1911 1837 4335 -530 3319 -3015 -2874 -3867 -2492 -2607 -3422 1537 -2546 -2346 281 4364 4523 -2713 -3306 2979 -4985 1505 -1539 -2971 -333 -3522 -2758 -2778 -2079 3016 2937 -3647 1624 -1893 -2603 1904 2835 4357 1155 2608 -658 -4593 1266 2180 -3111 809 1588 -1227 3067 2498 3912 -4707 -3887 -1990 -4769 -4138 2291 4579 -2749 -1065 -1943 -2774 2530 -2202 2061 2486 3506 2892 3395 -4491 4309 -543 3998 -3032 1432 2965 -3741 3765 -4688 2604 -2839 -1991 4406 -1684 2562 4735 -2032 -4818 1194 -1216 -3080 3821 -483 -1587 4876 -1290 -1064 2427 2440 -1298 -2405 -3680 2084 3221 1494 4650 3813 -196 1476 -2882 -232 -2500 1734 -1964 -1288 3857 -2688 3348 -2669 -4830 1586 1676 -4796 -533 3116 2378 -3762 4637 -4477 -4913 -2647 2203 -2751 -4106 4633 2093 -4088 -1042 703 2571 1980 -3107 -1622 4665 -3928 2270 3829 4802 -806 -811 3036 -173 -4419 -869 -611 4641 2063 -2524 2611 889 -133 -1839 -1504 -2560 1472 -1971 -4025 -3363 -3131 -1985 -2590 702 -2786 2145 2880 -2692 -322 1966 -4815 2282 141 -4098 1463 4090 3233 -1578 2593 4108 3095 -3771 3234 4691 3454 1885 -3566 1445 -1069 -3557 3151 2013 692 3687 -1744 334 4858 -531 -2656 -4946 4716 -1809 -4290 -840 -4547 3745 -4829 -773 -3053 -738 3331 -2813 -3474 1596 4857 4977 2148 -2100 -4544 -2686 -855 1929 1862 1648 2056 -219 -458 3672 -4867 4512 3559 200 1029 2713 -927 -2777 -4568 -4040 -4179 3092 -1443 -2583 -3195 2156 -1609 -3890 2273 1802 4205 -4518 -3192 -52 3889 -4683 -434 -2156 864 -4639 -3220 4448 3638 2031 -526 1153 4055 4157 1777 -2869 -1436 -3023 -2395 327 4852 952 1232 2836 -454 4753 4211 -2881 3147 460 798 1895 -881 -1218 978 -2564 -2462 -2299 2320 688 4570 -3092 1348 -4833 -4902 -2572 2472 2949 -4394 -3507 4844 3611 -3321 -1396 1185 781 4675 3058 -1509 969 -2209 4265 1573 2635 -1536 4686 -2446 3564 803 -506 -1794 -4361 -1815 2248 -1761 3846 1950 -443 3404 1520 2076 3588 -343 1338 -1886 4936 2025 -4202 786 1383 174 763 844 2840 4713 1708 -1665 -3056 3484 4728 -3593 1036 2566 2396 3137 2559 553 -4650 2583 -4578 1525 1587 3887 2697 -2724 -507 33 2849 -1356 3607 3192 1189 3243 -1302 4615 3773 1965 -4909 -4423 2645 2927 -864 965 4156 -2489 -1552 4224 -1877 2126 -868 -4354 -2871 3820 -4690 -2909 -1993 998 160 -2966 4553 1152 2187 -4435 1645 874 4080 -4506 -3492 -2530 2795 -3272 4253 -523 -4797 -2414 -1113 -2829 -2591 -3666 -713 468 130 125 3079 4554 -2623 -3341 4854 1591 774 3001 2231 4322 -2764 -3361 1238 -1371 4154 -1703 -5 4422 2272 -4926 3964

%.o: %.c 
	${CC} ${CFLAGS} ${INC} -c $< -o $@

all: ${NAME}

${NAME}: ${OBJ} push_swap.h
	${MAKE} makelib
	${CC} ${CFLAGS} -g3 ${INC} ${OBJ} ${LIB_NAME} -o ${NAME}

makelib:
	${MAKE} -C ${LIB_DIR}
	cp ${LIB_DIR}${LIB_NAME} ${LIB_NAME}

clean:
	rm -f ${OBJ}

fclean: 
	${MAKE} -C ${LIB_DIR} fclean
	${MAKE} clean
	rm -f ${LIB_NAME}
	rm -f ${NAME}

re:
	${MAKE} fclean
	${MAKE} all

run:
	${MAKE}
	./${NAME} ${ARR}

check:
	${MAKE}
	./${NAME} ${ARR} | ./checker_linux ${ARR}

val:
	${MAKE}
	valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes  ./${NAME} ${ARR}