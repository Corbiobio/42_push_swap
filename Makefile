.PHONY: all clean fclean re makelib 

NAME = push_swap
CC = cc
CFLAGS = -Wall -Werror -Wextra

SRC_FILE =	main.c\
			utils.c\
			operation.c\
			instruction.c\
			stack.c\
			average_sort.c\
			fastest_to_top.c\
			fastest_to_sort.c

OBJ = ${SRC_FILE:.c=.o}

LIB_NAME = libft.a
LIB_DIR = libft/

INC = -I . -I ${LIB_DIR}

ARR = 463 133 492 496 464 295 325 385 350 178 127 254 299 204 465 310 384 72 12 242 269 65 478 50 282 231 188 468 107 378 402 498 323 250 120 283 121 170 18 375 9 374 118 392 286 296 453 126 58 232 212 93 146 54 394 175 370 214 272 262 162 459 46 88 222 115 345 167 108 419 461 225 404 90 274 438 248 29 123 158 181 406 401 138 294 94 198 389 466 476 244 315 165 346 45 145 333 371 256 41 427 24 237 380 343 35 353 362 442 119 100 148 70 152 168 194 497 477 395 166 338 342 113 481 10 52 448 163 76 365 47 220 410 409 469 434 292 16 391 443 462 261 458 487 329 187 429 247 486 143 137 332 125 28 456 270 245 205 278 490 149 467 68 300 159 259 264 488 207 341 129 141 373 136 195 117 428 230 358 276 203 499 211 216 357 241 106 367 116 8 421 251 452 275 451 349 154 179 71 22 387 320 287 415 400 446 56 134 416 81 298 193 83 347 183 471 15 142 51 69 21 53 408 209 411 390 206 369 484 226 368 174 67 235 260 414 19 279 381 305 255 304 215 483 351 202 309 104 38 5 316 437 82 191 1 86 27 472 281 92 382 479 122 386 289 84 403 63 312 112 330 140 139 424 436 77 171 48 376 422 182 271 397 39 322 37 257 73 130 243 223 340 74 377 217 34 293 252 192 396 17 306 173 475 6 44 218 417 473 227 431 61 432 336 291 318 85 132 156 297 352 36 441 363 311 356 288 221 236 267 14 337 31 426 89 425 64 253 109 321 3 78 210 228 314 366 280 474 111 177 197 301 460 246 331 153 361 32 308 43 360 447 189 200 40 219 328 359 55 62 418 265 240 413 124 285 485 103 80 131 59 102 290 348 482 313 302 388 327 284 26 303 398 128 326 457 399 258 268 144 239 393 430 233 42 184 190 98 0 440 213 60 147 335 493 383 307 224 155 7 66 491 135 23 249 317 494 11 2 151 185 364 229 96 105 196 470 75 172 160 354 157 405 433 13 266 412 101 372 435 25 114 263 97 277 49 199 379 30 87 169 355 4 110 420 208 161 439 334 495 324 407 319 164 201 20 150 95 186 489 180 176 445 455 480 339 344 99 91 454 79 450 444 234 273 423 33 238 57 449

%.o: %.c 
	${CC} ${CFLAGS} ${INC} -c $< -o $@

all: ${NAME}

${NAME}: ${OBJ} push_swap.h
	${MAKE} makelib
	${CC} ${CFLAGS} -g3 ${INC} ${OBJ} ${LIB_NAME} -o ${NAME}

makelib:
	${MAKE} -C ${LIB_DIR}
	cp ${LIB_DIR}${LIB_NAME} ${LIB_NAME}

clean:
	rm -f ${OBJ}

fclean: 
	${MAKE} -C ${LIB_DIR} fclean
	${MAKE} clean
	rm -f ${LIB_NAME}
	rm -f ${NAME}

re:
	${MAKE} fclean
	${MAKE} all

run:
	${MAKE}
	./${NAME} ${ARR}

val:
	${MAKE}
	valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes  ./${NAME} ${ARR}